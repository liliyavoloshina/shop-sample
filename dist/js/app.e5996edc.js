(function(e){function t(t){for(var r,a,u=t[0],i=t[1],s=t[2],d=0,l=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);m&&m(t);while(l.length)l.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},c=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-07709945":"e13dcbd5","chunk-038bd294":"83670548","chunk-37d4cc1e":"f045c74d","chunk-674388b8":"4aa1b324","chunk-6bc84b01":"c5e4ace2","chunk-85ba09ba":"2b43253d","chunk-dc943316":"bb95719b","chunk-0922250f":"3843ea91","chunk-19226564":"e2f955af","chunk-2d0ceb53":"ad037071","chunk-69475004":"3d2be26e","chunk-bdd6809a":"065bf499"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-07709945":1,"chunk-37d4cc1e":1,"chunk-674388b8":1,"chunk-6bc84b01":1,"chunk-85ba09ba":1,"chunk-dc943316":1,"chunk-0922250f":1,"chunk-19226564":1,"chunk-69475004":1,"chunk-bdd6809a":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-07709945":"1fe66547","chunk-038bd294":"31d6cfe0","chunk-37d4cc1e":"fd25dc4b","chunk-674388b8":"0c5b1625","chunk-6bc84b01":"bc835326","chunk-85ba09ba":"b704e666","chunk-dc943316":"30abc5c2","chunk-0922250f":"9deb4d24","chunk-19226564":"ae50e42b","chunk-2d0ceb53":"31d6cfe0","chunk-69475004":"a3a77c86","chunk-bdd6809a":"9deb4d24"}[e]+".css",o=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===o))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],d=s.getAttribute("data-href");if(d===r||d===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],m.parentNode.removeChild(m),n(c)},m.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e);var l=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[e]=void 0}};var m=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var m=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n(e.layout,{tag:"component"},[n("router-view")],1)],1)},o=[],c=(n("ac1f"),n("5319"),{computed:{layout:function(){return this.$route.meta.layout||"default-layout"},didAutoLogout:function(){return this.$store.getters["auth/didAutoLogout"]}},watch:{didAutoLogout:function(e,t){e&&e!==t&&this.$router.replace({name:"Login"})}}}),u=c,i=(n("5c0b"),n("2877")),s=Object(i["a"])(u,a,o,!1,null,null,null),d=s.exports,l=(n("96cf"),n("1da1")),m=n("8c4f"),p=n("2f62"),f=(n("7db0"),n("c975"),n("a434"),{SET_PRODUCTS:function(e,t){e.products=t},ADD_NEW_PRODUCTS:function(e,t){e.products.push(t)},REMOVE_PRODUCT:function(e,t){var n=e.products.find((function(e){return e.id===t})),r=e.products.indexOf(n);-1!==r&&e.products.splice(r,1)}}),h=(n("a4d3"),n("e01a"),n("b0c0"),n("99af"),n("bc3a")),g=n.n(h);g.a.defaults.baseURL="".concat("https://simple-shop-2-default-rtdb.firebaseio.com");var v,b=g.a,k=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=b.post("/products.json?auth=".concat(n),t),e.abrupt("return",r);case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){return b.get("/products.json")},R=function(e,t){return b.delete("/products/".concat(e,".json?auth=").concat(t))},_=function(e){return b.get("/products/".concat(e))},E=function(e){return b.post("/categories.json",e)},O=function(){return b.get("/categories.json")},C=function(e){return b.delete("/categories/".concat(e,".json"))},y={postNewProduct:k,getProducts:w,deleteProduct:R,getProduct:_,postNewCategory:E,getCategories:O,deleteCategory:C},x={loadProducts:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,y.getProducts();case 3:for(c in r=t.sent,a=r.data,o=[],a)u={id:c,name:a[c].name,description:a[c].description,price:a[c].price,image:a[c].image,category:a[c].category,discount:a[c].discount,createdAt:a[c].createdAt},o.push(u);n("SET_PRODUCTS",o);case 8:case"end":return t.stop()}}),t)})))()},addNewProduct:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o={name:t.name,description:t.description,price:t.price,image:t.image,category:t.category,discount:t.discount,createdAt:t.createdAt},c=a["auth/token"],n.next=5,y.postNewProduct(o,c);case 5:u=n.sent,o.id=u.data.name,r("ADD_NEW_PRODUCTS",o);case 8:case"end":return n.stop()}}),n)})))()},removeProduct:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/token"],n.next=4,y.deleteProduct(t,o);case 4:if(c=n.sent,200!=!c.status){n.next=8;break}throw u=new Error(c.message||"Failed to delete product"),u;case 8:r("REMOVE_PRODUCT",t);case 9:case"end":return n.stop()}}),n)})))()}},A=(n("4de4"),n("fb6a"),{products:function(e){return e.products},product:function(e){return function(t){return e.products.find((function(e){return e.id==t}))}},relatedProducts:function(e){return function(t){var n=e.products.find((function(e){return e.id==t})),r=n.category,a=e.products.filter((function(e){return e.category==r})),o=a.filter((function(e){return e.id!=t}));return o.slice(0,3)}}}),T={namespaced:!0,state:function(){return{products:[]}},mutations:f,actions:x,getters:A},j=(n("d81d"),n("5530")),I={ADD_NEW_CATEGORY:function(e,t){e.categories.push(t)},SET_CATEGORIES:function(e,t){e.categories=t,e.selectedCategories=e.categories.filter((function(e){return e.count>0})).map((function(e){return e.id}))},REMOVE_CATEGORY:function(e,t){var n=e.categories.find((function(e){return e.id===t})),r=e.categories.indexOf(n);-1!==r&&e.categories.splice(r,1)},INCREASE_CATEGORY_COUNT:function(e,t){var n=e.categories.map((function(e){return e.id===t?Object(j["a"])(Object(j["a"])({},e),{},{count:e.count+1}):e}));e.categories=n},DECREASE_CATEGORY_COUNT:function(e,t){var n=e.categories.map((function(e){return e.id===t?Object(j["a"])(Object(j["a"])({},e),{},{count:e.count-1}):e}));e.categories=n},CHANGE_FILTER_CATEGORY:function(e,t){var n=e.selectedCategories.find((function(e){return e===t})),r=e.selectedCategories.indexOf(n);-1!==r?e.selectedCategories.splice(r,1):e.selectedCategories.push(t)},CHANGE_FILTER_DISCOUNT:function(e){e.selectedDiscount=!e.selectedDiscount},CHANGE_FILTER_BY_PRICE:function(e,t){e.selectedPrice=t}},S=function(e,t){return b.post("/categories.json?auth=".concat(t),e)},P=function(){return b.get("/categories.json")},D=function(e,t){return b.delete("/categories/".concat(e,".json?auth=").concat(t))},L=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.get("/categories/".concat(t,".json?auth=").concat(r));case 2:if(a=e.sent,o=a.data.count,"increase"!=n){e.next=8;break}return e.abrupt("return",b.patch("/categories/".concat(t,".json?auth=").concat(r),{count:o+1}));case 8:return e.abrupt("return",b.patch("/categories/".concat(t,".json?auth=").concat(r),{count:o-1}));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),V={postNewCategory:S,getCategories:P,deleteCategory:D,patchCategory:L},N={loadCategories:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c,u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,V.getCategories();case 3:if(r=t.sent,200!=!r.status){t.next=7;break}throw a=new Error(r.message||"Failed to get categories"),a;case 7:for(u in o=r.data,c=[],o)i={id:u,name:o[u].name,count:o[u].count},c.push(i);n("SET_CATEGORIES",c);case 11:case"end":return t.stop()}}),t)})))()},addNewCategory:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o={name:t.name,count:0},c=a["auth/token"],n.next=5,V.postNewCategory(o,c);case 5:if(u=n.sent,200!=!u.status){n.next=9;break}throw i=new Error(u.message||"Failed to post new category"),i;case 9:o.id=u.data.name,r("ADD_NEW_CATEGORY",o);case 11:case"end":return n.stop()}}),n)})))()},removeCategory:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/token"],n.next=4,V.deleteCategory(t,o);case 4:if(c=n.sent,200!=!c.status){n.next=8;break}throw u=new Error(c.message||"Failed to delete category"),u;case 8:r("REMOVE_CATEGORY",t);case 9:case"end":return n.stop()}}),n)})))()},increaseCategoryCount:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/token"],n.next=4,V.patchCategory(t,"increase",o);case 4:r("INCREASE_CATEGORY_COUNT",t);case 5:case"end":return n.stop()}}),n)})))()},decreaseCategoryCount:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/token"],n.next=4,V.patchCategory(t,"decrease",o);case 4:r("DECREASE_CATEGORY_COUNT",t);case 5:case"end":return n.stop()}}),n)})))()},changeFilterByCategory:function(e,t){var n=e.commit;n("CHANGE_FILTER_CATEGORY",t)},changeFilterByDiscount:function(e){var t=e.commit;t("CHANGE_FILTER_DISCOUNT")},changeFilterByPrice:function(e,t){var n=e.commit;n("CHANGE_FILTER_BY_PRICE",t)}},U=n("2909"),F={categories:function(e){return e.categories},getCategoryName:function(e){return function(t){var n=e.categories.find((function(e){return e.id==t}));return n.name}},activeCategories:function(e){return e.categories.filter((function(e){return e.count>0}))},selectedCategories:function(e){return e.selectedCategories},selectedDiscount:function(e){return e.selectedDiscount},selectedPrice:function(e,t){return e.selectedPrice.length>1?e.selectedPrice:t.initialRangeValue},minProductsPrice:function(e,t,n,r){var a=r["products/products"];return Math.min.apply(Math,Object(U["a"])(a.map((function(e){return e.price}))).concat([null]))},maxProductsPrice:function(e,t,n,r){var a=r["products/products"];return Math.max.apply(Math,Object(U["a"])(a.map((function(e){return e.price}))).concat([null]))},initialRangeValue:function(e,t){var n=t.minProductsPrice,r=t.maxProductsPrice;return e.initialRangeValue=[n,r]}},G={namespaced:!0,state:function(){return{categories:[],selectedCategories:[],selectedDiscount:!1,selectedPrice:[],initialRangeValue:[]}},mutations:I,actions:N,getters:F},M={SET_CART:function(e,t){e.cart=t},ADD_TO_CART:function(e,t){if(e.cart.find((function(e){return e.id==t.id}))){var n=e.cart.find((function(e){return e.id==t.id}));n.count++}else{var r=Object(j["a"])({},t);e.cart.push(r)}},UPDATE_QUANTITY:function(e,t){var n=t.product,r=t.newCount,a=e.cart.find((function(e){return e.id==n.id}));a.count=r},REMOVE_FROM_CART:function(e,t){var n=e.cart.find((function(e){return e.id==t.id})),r=e.cart.indexOf(n);r>-1&&e.cart.splice(r,1)},CLEAR_CART:function(e){e.cart=[]}},$=(n("b64b"),function(e){return b.get("/users/".concat(e,"/cart.json"))}),Y=function(e,t,n){return b.post("/users/".concat(e,"/cart.json?auth=").concat(n),t).catch((function(e){return e.response.data}))},B=function(e,t,n,r){return b.get("/users/".concat(e,'/cart.json?orderBy="id"&equalTo="').concat(t,'"')).then((function(t){var a=Object.keys(t.data)[0];return b.patch("/users/".concat(e,"/cart/").concat(a,".json?auth=").concat(r),{count:n})}))},H=function(e,t,n){return b.get("/users/".concat(e,'/cart.json?orderBy="id"&equalTo="').concat(t,'"')).then((function(t){var r=Object.keys(t.data)[0];b.delete("/users/".concat(e,"/cart/").concat(r,".json?auth=").concat(n))}))},W=function(e,t){return b.delete("/users/".concat(e,"/cart.json?auth=").concat(t))},q={postToCart:Y,deleteItemFromCart:H,getCart:$,patchQuantity:B,clearCart:W},Q={loadCart:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c,u,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=localStorage.getItem("userId"),t.next=4,q.getCart(r);case 4:if(a=t.sent,!a.error){t.next=8;break}throw o=new Error(a.error.message||"Failed to get products"),o;case 8:for(i in c=a.data,u=[],c)s={id:c[i].id,name:c[i].name,description:c[i].description,price:c[i].price,image:c[i].image,category:c[i].category,count:c[i].count,discount:c[i].discount,createdAt:c[i].createdAt},u.push(s);n("SET_CART",u);case 12:case"end":return t.stop()}}),t)})))()},addToCart:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=Object(j["a"])({},t),o.count=1,c=a["auth/userId"],u=a["auth/token"],n.next=7,q.postToCart(c,o,u);case 7:if(i=n.sent,!i.error){n.next=11;break}throw s=new Error(i.error.message||"Failed to add to cart"),s;case 11:r("ADD_TO_CART",o);case 12:case"end":return n.stop()}}),n)})))()},increaseQuantity:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/userId"],c=a["auth/token"],u=t.id,i=t.count+1,n.next=7,q.patchQuantity(o,u,i,c);case 7:r("UPDATE_QUANTITY",{product:t,newCount:i});case 8:case"end":return n.stop()}}),n)})))()},decreaseQuantity:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/userId"],c=a["auth/token"],u=t.id,i=t.count-1,n.next=7,q.patchQuantity(o,u,i,c);case 7:r("UPDATE_QUANTITY",{product:t,newCount:i});case 8:case"end":return n.stop()}}),n)})))()},deleteItem:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/userId"],c=a["auth/token"],u=t.id,n.next=6,q.deleteItemFromCart(o,u,c);case 6:r("REMOVE_FROM_CART",t);case 7:case"end":return n.stop()}}),n)})))()},clearCart:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,a=r["auth/userId"],o=r["auth/token"],t.next=5,q.clearCart(a,o);case 5:n("CLEAR_CART");case 6:case"end":return t.stop()}}),t)})))()}},K=(n("13d5"),{cart:function(e){return e.cart},productInCartById:function(e){return e.cart.map((function(e){return e.id}))},isInCart:function(e){return function(t){return!!e.cart.find((function(e){return e.id==t}))}},total:function(e){return e.cart.length},totalPrice:function(e){return e.cart.reduce((function(e,t){return e+t.price*t.count}),0)}}),J={namespaced:!0,state:function(){return{cart:[]}},mutations:M,actions:Q,getters:K},z={SET_USER:function(e,t){e.userId=t.userId,e.token=t.token,e.username=t.username,e.admin=t.admin,e.didAutoLogout=!1},SET_AUTO_LOGOUT:function(e){e.didAutoLogout=!0}},Z=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyCJKZqF24lKrRx12V2Nf5T9d-9lPwiMTnM"),"signup"===t&&(r="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat("AIzaSyCJKZqF24lKrRx12V2Nf5T9d-9lPwiMTnM")),e.prev=2,e.next=5,g.a.post(r,n);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),X=function(e,t){return g.a.put("/users/".concat(e.userId,".json?auth=").concat(e.token),t)},ee=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/users/".concat(t,".json"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te={auth:Z,storeUser:X,findUser:ee},ne={auth:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u,i,s,d,l,m,p,f,h,g,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,o=t.mode,c={email:t.email,password:t.password,returnSecureToken:!0},n.next=5,te.auth(o,c);case 5:if(u=n.sent,!u.error){n.next=21;break}n.t0=u.error.message,n.next="EMAIL_EXISTS"===n.t0?10:"EMAIL_NOT_FOUND"===n.t0?12:"INVALID_EMAIL"===n.t0?14:"INVALID_PASSWORD"===n.t0?16:18;break;case 10:return i="This e-mail is already in use",n.abrupt("break",19);case 12:return i="User with this email does not exist",n.abrupt("break",19);case 14:return i="Wrong e-mail",n.abrupt("break",19);case 16:return i="Wrong password",n.abrupt("break",19);case 18:i="Failed to authenticate";case 19:throw s=new Error(i),s;case 21:if(d=1e3*+u.expiresIn,l=(new Date).getTime()+d,localStorage.setItem("token",u.idToken),localStorage.setItem("userId",u.localId),localStorage.setItem("tokenExpiration",l),v=setTimeout((function(){a("autoLogout")}),d),"signup"!=o){n.next=33;break}return m={userId:u.localId,token:u.idToken},p={username:t.username,admin:t.admin},n.next=32,te.storeUser(m,p);case 32:r("SET_USER",Object(j["a"])(Object(j["a"])({},m),p));case 33:if("login"!=o){n.next=41;break}return f=localStorage.getItem("token"),h=localStorage.getItem("userId"),n.next=38,te.findUser(h);case 38:g=n.sent,b={userId:h,token:f,username:g.username,admin:g.admin},r("SET_USER",b);case 41:case"end":return n.stop()}}),n)})))()},logout:function(e){var t=e.commit;localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration");var n={userId:null,token:null,username:null,admin:!1};clearTimeout(v),t("SET_USER",n)},checkLogin:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c,u,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.dispatch,a=localStorage.getItem("token"),o=localStorage.getItem("userId"),c=localStorage.getItem("tokenExpiration"),u=+c-(new Date).getTime(),!(u<0)){t.next=8;break}return r("autoLogout"),t.abrupt("return");case 8:if(v=setTimeout((function(){r("autoLogout")}),u),!a||!o){t.next=15;break}return t.next=12,te.findUser(o);case 12:i=t.sent,s={userId:o,token:a,username:i.username,admin:i.admin},n("SET_USER",s);case 15:case"end":return t.stop()}}),t)})))()},autoLogout:function(e){var t=e.commit,n=e.dispatch;n("logout"),t("SET_AUTO_LOGOUT")}},re={userId:function(e){return e.userId},username:function(e){return e.username},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},didAutoLogout:function(e){return e.didAutoLogout},isAdmin:function(e){return e.admin}},ae={namespaced:!0,state:function(){return{userId:null,token:null,username:"Unknown",admin:!1,didAutoLogout:!1}},mutations:z,actions:ne,getters:re},oe={SET_USERS:function(e,t){e.users=t}},ce=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("/users.json");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ue={getUsers:ce},ie={loadUsers:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c,u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,ue.getUsers();case 3:if(r=t.sent,a=r.data,200==r.status){t.next=8;break}throw o=new Error(r.data||"Failed to get users"),o;case 8:for(u in c=[],a)i={id:u,username:a[u].username,admin:a[u].admin,cart:a[u].cart},c.push(i);n("SET_USERS",c);case 11:case"end":return t.stop()}}),t)})))()}},se={users:function(e){return e.users}},de={namespaced:!0,state:function(){return{users:[]}},mutations:oe,actions:ie,getters:se},le={SET_ORDERS:function(e,t){e.orders=t},ADD_NEW_ORDER:function(e,t){e.orders.push(t)},REMOVE_ORDER:function(e,t){var n=e.orders.find((function(e){return e.id==t})),r=e.orders.indexOf(n);r>-1&&e.orders.splice(r,1)}},me=function(){return b.get("/orders.json")},pe=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",b.post("/orders.json?auth=".concat(n),t));case 4:return e.prev=4,e.t0=e["catch"](0),e.abrupt("return",e.t0.response.data);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",b.delete("/orders/".concat(t,".json?auth=").concat(n)));case 4:return e.prev=4,e.t0=e["catch"](0),e.abrupt("return",e.t0.response.data);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}(),he={getOrders:me,postOrder:pe,deleteOrder:fe},ge={loadOrders:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c,u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,he.getOrders();case 3:if(r=t.sent,a=r.data,!r.error){t.next=8;break}throw o=new Error(r.error.message||"Failed to get orders"),o;case 8:for(u in c=[],a)i=Object(j["a"])({},a[u]),i.id=u,c.push(i);n("SET_ORDERS",c);case 11:case"end":return t.stop()}}),t)})))()},addNewOrder:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/token"],n.next=4,he.postOrder(t,o);case 4:if(c=n.sent,!c.error){n.next=8;break}throw u=new Error(c.error.message||"Failed to add new order"),u;case 8:r("ADD_NEW_ORDER",t);case 9:case"end":return n.stop()}}),n)})))()},removeOrder:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.rootGetters,o=a["auth/token"],n.next=4,he.deleteOrder(t,o);case 4:if(c=n.sent,!c.error){n.next=8;break}throw u=new Error(c.error.message||"Failed to add new order"),u;case 8:r("REMOVE_ORDER",t);case 9:case"end":return n.stop()}}),n)})))()}},ve={orders:function(e){return e.orders}},be={namespaced:!0,state:function(){return{orders:[]}},mutations:le,actions:ge,getters:ve};r["a"].use(p["a"]);var ke=new p["a"].Store({modules:{products:T,cart:J,filters:G,auth:ae,users:de,orders:be}}),we=ke;r["a"].use(m["a"]);var Re=[{path:"/",component:function(){return Promise.all([n.e("chunk-6bc84b01"),n.e("chunk-69475004")]).then(n.bind(null,"bb51"))}},{path:"/home",name:"Home",component:function(){return Promise.all([n.e("chunk-6bc84b01"),n.e("chunk-69475004")]).then(n.bind(null,"bb51"))}},{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-07709945"),n.e("chunk-038bd294")]).then(n.bind(null,"a55b"))},meta:{layout:"auth-layout"}},{path:"/signup",name:"Signup",component:function(){return Promise.all([n.e("chunk-07709945"),n.e("chunk-37d4cc1e")]).then(n.bind(null,"34c3b"))},meta:{layout:"auth-layout"}},{path:"/admin",name:"AdminMain",component:function(){return Promise.all([n.e("chunk-07709945"),n.e("chunk-6bc84b01"),n.e("chunk-85ba09ba")]).then(n.bind(null,"4c90"))},meta:{layout:"admin-layout",onlyForAdmin:!0}},{path:"/admin-categories",name:"AdminCategories",component:function(){return Promise.all([n.e("chunk-07709945"),n.e("chunk-6bc84b01"),n.e("chunk-dc943316")]).then(n.bind(null,"5652"))},meta:{layout:"admin-layout",onlyForAdmin:!0}},{path:"/admin-users",name:"AdminUsers",component:function(){return n.e("chunk-2d0ceb53").then(n.bind(null,"6135"))},meta:{layout:"admin-layout",onlyForAdmin:!0}},{path:"/admin-orders",name:"AdminOrders",component:function(){return n.e("chunk-bdd6809a").then(n.bind(null,"ec5c"))},meta:{layout:"admin-layout",onlyForAdmin:!0}},{path:"/product/:id",name:"Product",props:!0,component:function(){return n.e("chunk-19226564").then(n.bind(null,"d2f1"))}},{path:"/cart",name:"Cart",component:function(){return Promise.all([n.e("chunk-07709945"),n.e("chunk-674388b8")]).then(n.bind(null,"b789"))},meta:{requiresAuth:!0}}],_e=new m["a"]({mode:"history",base:"/",routes:Re});_e.beforeEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we.dispatch("auth/checkLogin");case 2:t.meta.requiresAuth&&!we.getters["auth/isAuthenticated"]||t.meta.onlyForAdmin&&!we.getters["auth/isAdmin"]?r({name:"Login"}):r();case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var Ee=_e,Oe=n("f309");r["a"].use(Oe["a"]);var Ce=new Oe["a"]({}),ye=n("1dce"),xe=n.n(ye),Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Navbar"),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("v-col",{attrs:{cols:"12"}},[e._t("default")],2)],1)],1),n("Footer")],1)},Te=[],je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{attrs:{color:"grey darken-4",dark:"",app:""}},[n("router-link",{attrs:{to:{name:"Home"},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("v-toolbar-title",{staticClass:"pointer",on:{click:r}},[e._v("Simple Shop")])]}}])}),n("v-spacer"),e.isAuthenticated?n("span",{staticClass:"mx-2"},[e._v("Hello, "+e._s(e.username)+"!")]):e._e(),e.isAdmin?n("v-btn",{attrs:{to:{name:"AdminMain"},icon:""}},[n("v-icon",[e._v("mdi-shield-account-variant-outline")])],1):e._e(),e.isAuthenticated?n("v-btn",{attrs:{to:{name:"Cart"},icon:""}},[e.total?n("v-badge",{attrs:{content:e.total,overlap:"",color:"orange darken-4"}},[n("v-icon",[e._v("mdi-cart")])],1):n("v-icon",[e._v("mdi-cart")])],1):e._e(),e.isAuthenticated?n("v-btn",{attrs:{icon:""},on:{click:e.logout}},[n("v-icon",[e._v("mdi-login-variant")])],1):n("v-btn",{attrs:{to:{name:"Login"},icon:"",replace:""}},[n("v-icon",[e._v("mdi-login-variant")])],1)],1)},Ie=[],Se={name:"TheNavbar",computed:{isAuthenticated:function(){return this.$store.getters["auth/isAuthenticated"]},total:function(){return this.$store.getters["cart/total"]},username:function(){return this.$store.getters["auth/username"]},isAdmin:function(){return this.$store.getters["auth/isAdmin"]}},methods:{logout:function(){this.$store.dispatch("auth/logout"),this.$router.replace({name:"Login"})}}},Pe=Se,De=(n("8d42"),n("6544")),Le=n.n(De),Ve=n("40dc"),Ne=n("4ca6"),Ue=n("8336"),Fe=n("132d"),Ge=n("2fa4"),Me=n("2a7f"),$e=Object(i["a"])(Pe,je,Ie,!1,null,"e3f7ce04",null),Ye=$e.exports;Le()($e,{VAppBar:Ve["a"],VBadge:Ne["a"],VBtn:Ue["a"],VIcon:Fe["a"],VSpacer:Ge["a"],VToolbarTitle:Me["a"]});var Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",{staticClass:"mt-15",attrs:{dark:"",padless:""}},[n("v-card",{staticClass:"grey darken-4 text-center",attrs:{width:"100%"}},[n("v-card-text",e._l(e.links,(function(t,r){return n("v-btn",{key:r,staticClass:"mx-4 white--text",attrs:{href:t.link,icon:""}},[n("v-icon",{attrs:{size:"24px"}},[e._v(" "+e._s(t.icon)+" ")])],1)})),1),n("v-card-text",{staticClass:"white--text"},[e._v(" This online store is made by a novice developer for educational purposes and is not a commercial project. It is open-source and any feedback, comments and suggestions are welcome. ")]),n("v-divider"),n("v-card-text",{staticClass:"white--text"},[e._v(" "+e._s((new Date).getFullYear())+" — "),n("strong",[e._v("liliyavoloshine")])])],1)],1)},He=[],We={name:"Footer",data:function(){return{links:[{icon:"mdi-facebook",link:"https://www.facebook.com/profile.php?id=100036259350594"},{icon:"mdi-github",link:"https://github.com/liliyavoloshina"}]}}},qe=We,Qe=n("b0af"),Ke=n("99d9"),Je=n("ce7e"),ze=n("553a"),Ze=Object(i["a"])(qe,Be,He,!1,null,null,null),Xe=Ze.exports;Le()(Ze,{VBtn:Ue["a"],VCard:Qe["a"],VCardText:Ke["b"],VDivider:Je["a"],VFooter:ze["a"],VIcon:Fe["a"]});var et={name:"DefaultLayout",components:{Navbar:Ye,Footer:Xe}},tt=et,nt=n("7496"),rt=n("62ad"),at=n("a523"),ot=n("f6c4"),ct=Object(i["a"])(tt,Ae,Te,!1,null,null,null),ut=ct.exports;Le()(ct,{VApp:nt["a"],VCol:rt["a"],VContainer:at["a"],VMain:ot["a"]});var it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",{staticClass:"orange lighten-5"},[n("v-container",{attrs:{"fill-height":""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{"align-self":"center"}},[e._t("default")],2)],1)],1)],1)],1)},st=[],dt={name:"AuthLayout"},lt=dt,mt=n("0fd9"),pt=Object(i["a"])(lt,it,st,!1,null,null,null),ft=pt.exports;Le()(pt,{VApp:nt["a"],VCol:rt["a"],VContainer:at["a"],VMain:ot["a"],VRow:mt["a"]});var ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-navigation-drawer",{attrs:{permanent:"","expand-on-hover":"",app:""}},[n("v-list",[n("v-list-item",{staticClass:"px-2"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:"https://randomuser.me/api/portraits/women/82.jpg"}})],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v(" Admin ")]),n("v-list-item-subtitle",[e._v("admin@admin.org")])],1)],1)],1),n("v-divider"),n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item",{attrs:{to:{name:"AdminMain"},link:""}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-folder")])],1),n("v-list-item-title",[e._v("Products")])],1),n("v-list-item",{attrs:{to:{name:"AdminUsers"},link:""}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-account-multiple")])],1),n("v-list-item-title",[e._v("Users")])],1),n("v-list-item",{attrs:{to:{name:"AdminCategories"},link:""}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-shape-outline")])],1),n("v-list-item-title",[e._v("Categories")])],1),n("v-list-item",{attrs:{to:{name:"AdminOrders"},link:""}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-star")])],1),n("v-list-item-title",[e._v("Orders")])],1)],1),n("v-divider"),n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{to:{name:"Home"},link:""}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-title",[e._v("Homepage")])],1),n("v-list-item",{attrs:{link:""},on:{click:e.logout}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-logout")])],1),n("v-list-item-title",[e._v("Logout")])],1)],1)],1),n("v-main",[e._t("default")],2)],1)},gt=[],vt={name:"AdminLayout",methods:{logout:function(){this.$store.dispatch("auth/logout"),this.$router.replace({name:"Login"})}}},bt=vt,kt=n("adda"),wt=n("8860"),Rt=n("da13"),_t=n("8270"),Et=n("5d23"),Ot=n("34c3"),Ct=n("f774"),yt=Object(i["a"])(bt,ht,gt,!1,null,null,null),xt=yt.exports;Le()(yt,{VApp:nt["a"],VDivider:Je["a"],VIcon:Fe["a"],VImg:kt["a"],VList:wt["a"],VListItem:Rt["a"],VListItemAvatar:_t["a"],VListItemContent:Et["a"],VListItemIcon:Ot["a"],VListItemSubtitle:Et["b"],VListItemTitle:Et["c"],VMain:ot["a"],VNavigationDrawer:Ct["a"]}),r["a"].component("default-layout",ut),r["a"].component("auth-layout",ft),r["a"].component("admin-layout",xt),r["a"].component("ErrorAlert",(function(){return n.e("chunk-0922250f").then(n.bind(null,"2c5d"))})),r["a"].config.productionTip=!1,r["a"].use(xe.a),new r["a"]({router:Ee,store:we,vuetify:Ce,render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"8d42":function(e,t,n){"use strict";n("8fbb")},"8fbb":function(e,t,n){},"9c0c":function(e,t,n){}});
//# sourceMappingURL=app.e5996edc.js.map